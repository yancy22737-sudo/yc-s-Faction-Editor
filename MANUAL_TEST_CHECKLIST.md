# FactionGearModification 手动测试清单

---

## 测试前准备

1. **启用测试模式**: 在游戏中按 `~` 打开控制台，输入 `log trace` 开启详细日志
2. **备份存档**: 测试前备份游戏存档
3. **测试顺序**: 按优先级顺序执行，高优先级失败时停止测试

---

## 🟢 优先级一：核心功能测试（必须通过）

### 1.1 数据模型基础功能

| # | 测试项目 | 测试步骤 | 预期结果 | 结果 | 备注 |
|---|----------|----------|----------|------|------|
| T001 | 新建阵营数据 | 1. 打开 Faction Gear Editor<br>2. 选择任意阵营（如 Tribe）<br>3. 选择任意兵种 | 右侧显示该兵种的默认装备列表 | ☐ 通过 ☐ 失败 | |
| T002 | 添加武器 | 1. 切换到 Weapons 分类<br>2. 从列表拖拽一个武器到中间面板<br>3. 保存设置 | 武器出现在兵种的武器列表中 | ☐ 通过 ☐ 失败 | |
| T003 | 添加护甲 | 1. 切换到 Armors 分类<br>2. 添加一个护甲 | 护甲出现在兵种的护甲列表中 | ☐ 通过 ☐ 失败 | |
| T004 | 删除装备 | 1. 选中已添加的装备<br>2. 点击删除按钮或按 Delete | 装备从列表中移除 | ☐ 通过 ☐ 失败 | |
| T005 | 修改权重 | 1. 选中装备<br>2. 修改 weight 值<br>3. 保存 | 权重值正确保存 | ☐ 通过 ☐ 失败 | |

### 1.2 撤销/重做功能

| # | 测试项目 | 测试步骤 | 预期结果 | 结果 | 备注 |
|---|----------|----------|----------|------|------|
| T006 | 撤销操作 | 1. 添加一个装备<br>2. 点击撤销按钮<br>3. 观察列表 | 装备被移除 | ☐ 通过 ☐ 失败 | |
| T007 | 重做操作 | 1. 完成 T006 后点击重做 | 装备恢复添加 | ☐ 通过 ☐ 失败 | |
| T008 | 多次撤销 | 1. 添加 3 个装备<br>2. 连续撤销 3 次 | 3 个装备全部移除 | ☐ 通过 ☐ 失败 | |
| T009 | 切换兵种清空撤销栈 | 1. 添加装备后切换到其他兵种<br>2. 尝试撤销 | 无法撤销，提示不可用 | ☐ 通过 ☐ 失败 | |

### 1.3 保存/加载功能

| # | 测试项目 | 测试步骤 | 预期结果 | 结果 | 备注 |
|---|----------|----------|----------|------|------|
| T010 | 保存设置 | 1. 修改装备配置<br>2. 点击 "Apply & Save"<br>3. 重新加载游戏 | 设置保持不变 | ☐ 通过 ☐ 失败 | |
| T011 | 放弃更改 | 1. 修改配置但不保存<br>2. 点击其他阵营再回来<br>3. 选择放弃更改 | 配置恢复到保存状态 | ☐ 通过 ☐ 失败 | |
| T012 | 创建预设 | 1. 点击 "Presets"<br>2. 创建新预设<br>3. 保存配置 | 预设列表显示新预设 | ☐ 通过 ☐ 失败 | |
| T013 | 加载预设 | 1. 选择另一个预设 | 配置切换到预设内容 | ☐ 通过 ☐ 失败 | |

---

## 🟡 优先级二：高级功能测试

### 2.1 过滤和搜索

| # | 测试项目 | 测试步骤 | 预期结果 | 结果 | 备注 |
|---|----------|----------|----------|------|------|
| T014 | 按 Mod 过滤 | 1. 选择一个 Mod 来源筛选<br>2. 观察列表 | 只显示该 Mod 的装备 | ☐ 通过 ☐ 失败 | |
| T015 | 按科技等级过滤 | 1. 选择 TechLevel 筛选<br>2. 观察列表 | 只显示对应科技等级装备 | ☐ 通过 ☐ 失败 | |
| T016 | 按市场价值过滤 | 1. 调整市场价值滑块<br>2. 观察列表 | 只显示价值范围内的装备 | ☐ 通过 ☐ 失败 | |
| T017 | 武器范围过滤 | 1. 切换到 Weapons<br>2. 调整 Range 滑块 | 只显示射程范围内的武器 | ☐ 通过 ☐ 失败 | |
| T018 | 武器伤害过滤 | 1. 调整 Damage 滑块 | 只显示伤害范围内的武器 | ☐ 通过 ☐ 失败 | |

### 2.2 复制/粘贴功能

| # | 测试项目 | 测试步骤 | 预期结果 | 结果 | 备注 |
|---|----------|----------|----------|------|------|
| T019 | 复制兵种装备 | 1. 选择兵种<br>2. 点击复制按钮 | 显示复制成功消息 | ☐ 通过 ☐ 失败 | |
| T020 | 粘贴到同阵营其他兵种 | 1. 切换到同阵营另一兵种<br>2. 点击粘贴到全部 | 装备配置被覆盖 | ☐ 通过 ☐ 失败 | |

### 2.3 重置功能

| # | 测试项目 | 测试步骤 | 预期结果 | 结果 | 备注 |
|---|----------|----------|----------|------|------|
| T021 | 重置当前兵种 | 1. 修改配置<br>2. 选择 "Reset Current Kind" | 恢复原版默认装备 | ☐ 通过 ☐ 失败 | |
| T022 | 重置当前阵营 | 1. 修改配置<br>2. 选择 "Reset Current Faction" | 恢复该阵营所有兵种默认 | ☐ 通过 ☐ 失败 | |
| T023 | 重置全部 | 1. 选择 "Reset EVERYTHING" | 所有配置清空 | ☐ 通过 ☐ 失败 | |

---

## 🔵 优先级三：游戏内集成测试

### 3.1 装备应用验证

| # | 测试项目 | 测试步骤 | 预期结果 | 结果 | 备注 |
|---|----------|----------|----------|------|------|
| T024 | 新 NPC 装备验证 | 1. 保存设置<br>2. 产生新的 NPC 旅客<br>3. 观察其装备 | 使用自定义配置装备 | ☐ 通过 ☐ 失败 | |
| T025 | 商人装备验证 | 1. 产生商人<br>2. 观察商人装备 | 使用自定义配置 | ☐ 通过 ☐ 失败 | |
| T026 | 入侵者装备验证 | 1. 产生敌对势力入侵<br>2. 观察敌人装备 | 使用自定义配置 | ☐ 通过 ☐ 失败 | |
| T027 | Force Ignore 模式 | 1. 开启 Force Ignore<br>2. 产生 NPC<br>3. 观察 | 忽略冲突强制装备 | ☐ 通过 ☐ 失败 | |

### 3.2 高级配置测试

| # | 测试项目 | 测试步骤 | 预期结果 | 结果 | 备注 |
|---|----------|----------|----------|------|------|
| T028 | Force Naked 测试 | 1. 开启 Force Naked<br>2. 产生 NPC | NPC 裸体 | ☐ 通过 ☐ 失败 | |
| T029 | 强制质量测试 | 1. 设置 ItemQuality 为 Legendary<br>2. 产生 NPC<br>3. 检视装备 | 装备为传奇品质 | ☐ 通过 ☐ 失败 | |
| T030 | 装备颜色测试 | 1. 设置 Apparel Color<br>2. 产生 NPC<br>3. 观察 | 服装显示指定颜色 | ☐ 通过 ☐ 失败 | |

---

## 🟣 优先级四：预设导入/导出测试

| # | 测试项目 | 测试步骤 | 预期结果 | 结果 | 备注 |
|---|----------|----------|----------|------|------|
| T031 | 导出预设 | 1. 创建配置<br>2. 导出预设为 Base64 | 生成有效 Base64 字符串 | ☐ 通过 ☐ 失败 | |
| T032 | 导入预设 | 1. 复制导出的字符串<br>2. 导入新存档<br>3. 导入预设 | 配置完全一致 | ☐ 通过 ☐ 失败 | |
| T033 | 无效导入 | 1. 导入损坏的字符串 | 显示错误或无反应 | ☐ 通过 ☐ 失败 | |

---

## 🟠 优先级五：性能和稳定性测试

| # | 测试项目 | 测试步骤 | 预期结果 | 结果 | 备注 |
|---|----------|----------|----------|------|------|
| T034 | 大阵营加载 | 1. 加载所有阵营配置 | 加载时间 < 5秒 | ☐ 通过 ☐ 失败 | |
| T035 | 大量装备选择 | 1. 快速添加/删除大量装备 | UI 无卡顿 | ☐ 通过 ☐ 失败 | |
| T036 | 长时间游戏 | 1. 游戏超过 50 天的正常游戏 | 无内存泄漏或崩溃 | ☐ 通过 ☐ 失败 | |

---

## 测试反馈表

请在完成测试后填写以下信息：

```
测试人员: ________________
测试日期: ________________
游戏版本: ________________
MOD 版本: ________________

测试结果汇总:
- 通过: ___ / 36
- 失败: ___ / 36
- 无法测试: ___ / 36

失败测试列表:
1. T___: ________________________________
   错误信息: ________________________________
   
2. T___: ________________________________
   错误信息: ________________________________

3. T___: ________________________________
   错误信息: ________________________________

其他问题或建议:
________________________________________________
________________________________________________
________________________________________________
```

---

## 常见问题排查

| 问题现象 | 可能原因 | 解决方案 |
|----------|----------|----------|
| 装备未应用 | 未保存/未启用 | 点击 "Apply & Save" |
| 撤销按钮灰色 | 已切换兵种 | 继续当前兵种操作 |
| 过滤列表为空 | 筛选条件太严格 | 调整或重置过滤条件 |
| 导入失败 | Base64 字符串错误 | 检查字符串完整性 |

---

*文档版本: 1.0*  
*测试指南: 按优先级顺序执行，高优先级失败时停止*
